(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{163:function(e,a,t){e.exports=t(314)},172:function(e,a,t){},208:function(e,a,t){},297:function(e,a,t){},298:function(e,a,t){e.exports=t.p+"static/media/mov2.2c4cea31.png"},300:function(e,a,t){},301:function(e,a,t){},314:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(9),i=t.n(r),o=t(45),c=t(88),s=t(79),m=(t(172),t(51)),u=t(59),v=t(53),d=t(54),E=t(14),g=t(323),p=t(319),_=t(317),h=t(318),w=t(321),f=t(64),b=t(67),N=t.n(b);function y(e){e?N.a.defaults.headers.common.Authorization="Bearer "+e:delete N.a.defaults.headers.common.Authorization}var j=t(80),S=t.n(j),O=t(137),C=t.n(O),I={isAuthenticeted:!1,user:{}},T=t(161),F={loading:!1,movies:[],error:""},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_MOVIES_REQUEST":return Object(T.a)({},e,{loading:!0});case"FETCH_MOVIES_SUCCESS":return{loading:!1,movies:a.payload,error:""};default:return e}},U=Object(o.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(a.type){case"SET_CURRENT_USER":return{isAuthenticated:!C()(a.user),user:a.user};default:return e}},movieReducer:M});function k(e){return{type:"SET_CURRENT_USER",user:e}}function R(e,a){return N()({method:"post",url:"https://zm-job-application.herokuapp.com/auth/local",data:{identifier:e,password:a}}).then((function(e){var a=e.data.jwt;localStorage.setItem("jwt",a),y(a),Object(o.d)(U,Object(o.a)(s.a)).dispatch(k(S()(a)));var n=(0,t(36).createBrowserHistory)();localStorage.setItem("isLogedIn","true"),n.push("/"),window.location.reload()}))}t(208),t(74);var A=function(e){Object(d.a)(t,e);var a=Object(v.a)(t);function t(){var e;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=a.call.apply(a,[this].concat(r))).state={showErrorMessage:!1},e.render=function(){return l.a.createElement("div",{className:"login"},l.a.createElement("div",{className:"login_container"},e.state.showErrorMessage?l.a.createElement(g.a,{className:"login_error_alert",message:"Neuspje\u0161na prijava",type:"error"}):null,l.a.createElement("div",{className:"login_form_container"},l.a.createElement("div",{className:"login_form"},l.a.createElement(p.a,{onFinish:function(a){e.setState({showErrorMessage:!1}),R(a.email,a.password).catch((function(a){e.setState({showErrorMessage:!0})}))},onFinishFailed:function(e){console.log("Failed:",e)},layout:"vertical",className:"login_loginForm"},l.a.createElement(_.a,null,l.a.createElement(h.a,{md:12,sm:24},l.a.createElement("div",{className:"login_loginForm"},l.a.createElement("div",{className:"login_welcomeMessage"},l.a.createElement("p",null,"Login")),l.a.createElement("span",{className:"input_tag"},"Email*"),l.a.createElement(p.a.Item,{name:"email",rules:[{required:!0,message:"Email can not be empty"},{type:"email",message:"This is not email"}]},l.a.createElement(w.a,null)),l.a.createElement("span",{className:"input_tag"},"Password*"),l.a.createElement(p.a.Item,{name:"password",rules:[{required:!0,message:"Password can not be empty"}]},l.a.createElement(w.a,{type:"password"})),l.a.createElement(p.a.Item,null,l.a.createElement("div",{className:"login_loginButton"},l.a.createElement(f.a,{htmlType:"submit"},"Sign in"))))))))),l.a.createElement("div",{className:"login_logo_container"},l.a.createElement("div",{className:"login_logo"}))))},e}return t}(l.a.Component),L=Object(c.b)(null,{login:R})(A),x=(t(297),t(39)),V=function(e){Object(d.a)(n,e);var a=Object(v.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=a.call.apply(a,[this].concat(i))).state={showSuccessMessage:!1},e.render=function(){return l.a.createElement("div",{className:"movie_list"},e.state.showSuccessMessage?l.a.createElement(g.a,{className:"login_success_alert",message:"Uspje\u0161no ste se ulogirali",type:"success"}):null,l.a.createElement("div",{className:"movie_list_container"},l.a.createElement("div",{className:"movie_list_title"},l.a.createElement("p",null,"Movies")),l.a.createElement("div",{className:"movie_list_section_title_container"},l.a.createElement("p",null,"Cover image"),l.a.createElement("p",null,"Title"),l.a.createElement("p",null,"Publication year"),l.a.createElement("p",null,"Options")),l.a.createElement("div",{className:"movie_list_movie_container"},l.a.createElement("div",{className:"movie_img"},l.a.createElement("div",null,l.a.createElement("img",{src:t(298),alt:"movie"}))),l.a.createElement("div",null,l.a.createElement("p",{className:"movie_title"}," Some Swedish indie movie")),l.a.createElement("div",{className:"movie_year"},l.a.createElement("p",null,"2011")),l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(x.b,{className:"edit_movie",to:"/movieView"},"Edit")),l.a.createElement("br",null),l.a.createElement("div",{className:"delete_movie_container"},l.a.createElement(x.b,{className:"delete_movie",to:"/movieView"},"Delete")))),l.a.createElement("hr",null),l.a.createElement("div",{className:"movie_list_create_button_container"},l.a.createElement(x.b,{to:"/movieView"},l.a.createElement(f.a,null,"Create a new movie")))))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){"true"===localStorage.getItem("isLogedIn")?(this.setState({showSuccessMessage:!0}),localStorage.removeItem("isLogedIn")):"false"===localStorage.getItem("isLogedIn")&&this.setState({showSuccessMessage:!1})}}]),n}(l.a.Component);t(300);var B=function(){return l.a.createElement("div",{className:"empty_movie_list_container"},l.a.createElement("div",{className:"empty_movie_list_title_container"},l.a.createElement("span",{className:"empty_movie_list_title"},"Your movie list is empty")),l.a.createElement("div",{className:"empty_movie_list_button_container"},l.a.createElement(x.b,{to:"/movieView"},l.a.createElement(f.a,null,"Create a new movie"))),l.a.createElement("div",{className:"empty_movie_list_img_container"},l.a.createElement("div",{className:"empty_movie_list_img"})))},P=t(322),q=t(320),z=t(324),D=t(325);t(301);function H(e,a){var t=new FileReader;t.addEventListener("load",(function(){return a(t.result)})),t.readAsDataURL(e)}function J(e){var a="image/jpeg"===e.type||"image/png"===e.type;a||P.b.error("You can only upload JPG/PNG file!");var t=e.size/1024/1024<2;return t||P.b.error("Image must smaller than 2MB!"),a&&t}var Y=function(e){Object(d.a)(t,e);var a=Object(v.a)(t);function t(){var e;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=a.call.apply(a,[this].concat(r))).state={imageUrl:"",loading:!1},e.handleChange=function(a){"uploading"!==a.file.status?"done"===a.file.status&&H(a.file.originFileObj,(function(a){return e.setState({imageUrl:a,loading:!1})})):e.setState({loading:!0})},e.render=function(){var a=l.a.createElement("div",null,e.state.loading?l.a.createElement(z.a,null):l.a.createElement(D.a,null),l.a.createElement("div",{className:"ant-upload-text"},"Upload")),t=e.state.imageUrl;return l.a.createElement("div",{className:"movie_view"},l.a.createElement("div",{className:"movie_view_container"},l.a.createElement("div",{className:"movie_view_form_container"},l.a.createElement("div",{className:"movie_view_form"},l.a.createElement(p.a,{onFinish:function(e){console.log("Success:",e)},onFinishFailed:function(e){console.log("Failed:",e)},layout:"vertical",className:"movie_view_movieForm"},l.a.createElement("div",{className:"movie_view_title"},l.a.createElement("p",null,"Create a new movie")),l.a.createElement(_.a,null,l.a.createElement(h.a,{md:12,sm:24},l.a.createElement("div",{className:"movie_view_movieForm"},l.a.createElement("span",{className:"input_tag"},"Title*"),l.a.createElement(p.a.Item,{name:"title",rules:[{required:!0,message:"Title can not be empty"}]},l.a.createElement(w.a,null)),l.a.createElement("span",{className:"input_tag"},"Publication year"),l.a.createElement(p.a.Item,{name:"publicationYear",rules:[{pattern:new RegExp("^[12][0-9]{3}$"),message:"This is not a year"}]},l.a.createElement(w.a,null)),l.a.createElement("span",{className:"input_tag"},"Cover image*"),l.a.createElement(p.a.Item,{name:"title",rules:[{required:!0,message:"Cover image can not be empty"}]},l.a.createElement(q.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",beforeUpload:J,onChange:e.handleChange},t?l.a.createElement("img",{src:t,alt:"avatar",style:{width:"100%"}}):a)),l.a.createElement(p.a.Item,null,l.a.createElement("div",{className:"movie_view_button_container"},l.a.createElement(x.b,{to:"/"},l.a.createElement(f.a,{className:"btn-cancel"},"Cancel")),l.a.createElement(f.a,{className:"btn_create",htmlType:"submit"},"Create"))))))))),l.a.createElement("div",{className:"movie_view_logo_container"},l.a.createElement("div",{className:"movie_view_logo"}))))},e}return Object(u.a)(t,[{key:"componentDidMount",value:function(){}}]),t}(l.a.Component),G=function(e){Object(d.a)(t,e);var a=Object(v.a)(t);function t(){var e;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=a.call.apply(a,[this].concat(l))).unsubscribeFromAuth=null,e}return Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(E.d,null,l.a.createElement(E.b,{exact:!0,path:"/",render:function(){var e;return void 0===(null===(e=localStorage.getItem("jwt"))||void 0===e?void 0:e.length)?l.a.createElement(E.a,{to:"/login"}):l.a.createElement(V,null)}}),l.a.createElement(E.b,{exact:!0,path:"/emptyMovieList",component:B}),l.a.createElement(E.b,{exact:!0,path:"/movieView",component:Y}),l.a.createElement(E.b,{exact:!0,path:"/login",component:L})))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W=Object(o.d)(U,Object(o.a)(s.a));localStorage.jwtToken&&(y(localStorage.jwtToken),W.dispatch(k(S.a(localStorage.jwtToken)))),i.a.render(l.a.createElement(c.a,{store:W},l.a.createElement(x.a,null,l.a.createElement(l.a.StrictMode,null,l.a.createElement(G,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[163,1,2]]]);
//# sourceMappingURL=main.253058b0.chunk.js.map